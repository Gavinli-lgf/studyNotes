# 状态空间方程
## [状态空间wiki](https://zh.m.wikipedia.org/zh-cn/%E7%8A%B6%E6%80%81%E7%A9%BA%E9%97%B4)
* 状态是指在系统中可决定系统状态、最小数目变量的有序集合;
* 状态空间则是指该系统全部可能状态的集合;简单来说，状态空间可以视为一个以状态变数为坐标轴的空间，因此系统的状态可以表示为此空间中的一个向量。 
* 各个矩阵的名称与维数
* 状态变数的系统方块图
* 典型有反馈的状态空间模型图
* 输出回授及目标值输入的状态空间模型图

# [MPC](https://github.com/YuXianYuan/model-predictive-control-demo):
## 一个模型预测控制(mpc)的简单实现.docx
1. MPC生活中的启示
* “控制时域”、“预测时域”
* 模型预测控制的基本思想就蕴含在上述过程中，它利用一个已有的模型、系统当前的状态和未来的控制量，来预测系统未来的输出，然后与我们期望的系统输出做比较，得到一个损失函数，即：损失函数=（未来输出（模型，未来控制量，当前状态）-期望输出）^2。
  由于上式中模型、当前状态、期望输出都是已知的，因此只有未来控制量一个自变量。采用二次规划的方法求解出某个未来控制量，使得损失函数最小，这个未来控制量的第一个元素就是当前控制周期的控制量。
2. 实际控制的例子
* 问题描述 -> 预测模型 -> 预测模型离散化 -> 预测 -> 优化
* MPC方法的一个独特之处就是需要对未来系统状态进行预测，我们记未来p个控制周期内预测的系统状态X<sub>k</sub>，p称为预测时域，括号中k+1|k表示在当前k时刻预测k+1时刻的系统状态，以此类推，得到p个等式。（等式也说明了：系统在时间上的因果关系，即k+1时刻的输入对k时刻的输出没有影响，k+2时刻的输入对k和k+1时刻没有影响，等等（即输入只向后影响，不向前影响）。）
* 预测动态系统未来状态时，还需要知道预测时域内的控制量U<sub>k</sub>。（“通过离散化状态方程依次对未来p个控制周期的系统状态进行预测”得出的方程组中，x(k)可以实时测量，x(k+1)~x(k+p)、u(k+1)~u(k+p)都是未知量。怎么根据p个等式，求解两组未知量呢？）
* 新定义一个目标函数J，J中引入P个参考值；再将P个未来状态x(k+1)~x(k+p)都用上面P个等式进行代入替换，值得到J与x(k)、r(k+1)~r(k+p)、u(k+1)~u(k+p)的等式。此式中只有标量J与u(k+1)~u(k+p)未知，因此可以求出J值最小的优化问题，来求解u(k+1)~u(k+p)。
* 对目标函数J处理后，可得最终优化目标函数，至此可直接调用matlab quadprog函数求解Uk，将Uk的第一个元素提取出来，作为本控制周期的控制量。
3. 仿真
* simulink的框图也能很好的对系统有个认知。
